{% extends 'quotes/base.html' %}
{% block content %}

<h2 class="text-3xl font-bold text-center text-[#f5c518] mt-8 mb-6">ðŸŽ¬ Movie Quotes Library</h2>

<!-- Movie Carousel -->
<div class="relative overflow-hidden">
    <div id="movieCarousel" class="flex gap-6 transition-transform duration-700 ease-in-out">
        {% for movie in movie_data %}
        <div class="movie-card w-64 flex-shrink-0 transform transition duration-300 hover:scale-110">
            <a href="{% url 'movie_detail' movie.imdb_id %}">
                {% if movie.poster and movie.poster != 'N/A' %}
                <img src="{{ movie.poster }}" alt="{{ movie.movie_title }}"
                    class="rounded-lg shadow-lg w-full h-96 object-cover">
                {% else %}
                <div class="bg-zinc-800 w-full h-96 flex items-center justify-center rounded-lg">
                    <span class="text-gray-400">No Poster</span>
                </div>
                {% endif %}
                <h3 class="text-center text-white mt-3 font-semibold">{{ movie.movie_title }}</h3>
            </a>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    const carousel = document.getElementById('movieCarousel');
    let isHovered = false;
    let scrollPosition = 0;

    // Auto-scroll effect
    setInterval(() => {
        if (!isHovered) {
            scrollPosition += 1;
            carousel.scrollLeft = scrollPosition;
            if (scrollPosition >= carousel.scrollWidth - carousel.clientWidth) {
                scrollPosition = 0;
            }
        }
    }, 50);

    carousel.addEventListener('mouseenter', () => isHovered = true);
    carousel.addEventListener('mouseleave', () => isHovered = false);
</script>

<style>
    #movieCarousel::-webkit-scrollbar {
        display: none;
    }

    #movieCarousel {
        scrollbar-width: none;
    }
</style>

{% endblock %}